exports.id=947,exports.ids=[947],exports.modules={28879:(e,t,s)=>{Promise.resolve().then(s.bind(s,92190))},84453:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,12994,23)),Promise.resolve().then(s.t.bind(s,96114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,79671,23)),Promise.resolve().then(s.t.bind(s,41868,23)),Promise.resolve().then(s.t.bind(s,84759,23))},93652:()=>{},92190:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>b});var a=s(10326),r=s(17577),n=s(90434),l=s(35047),o=s(24319),i=s(24061),d=s(14228),c=s(48705),m=s(11890),x=s(94019),u=s(71810),g=s(90748),h=s(20902),f=s(46791);let p=({href:e,icon:t,label:s,active:r})=>(0,a.jsxs)(n.default,{href:e,className:`flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors duration-150 ${r?"bg-indigo-50 text-indigo-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[a.jsx(t,{className:`w-5 h-5 mr-3 ${r?"text-indigo-600":"text-gray-400"}`}),s]});function b({children:e}){let t=(0,l.usePathname)(),[s,b]=(0,r.useState)(!1),[y,j]=(0,r.useState)(null),[v,N]=(0,r.useState)(!0),w=[{href:"/v4",label:"Overview",icon:o.Z},{href:"/v4/staff-performance",label:"Staff Performance",icon:i.Z},{href:"/v4/courier-report",label:"Courier Reports",icon:d.Z},{href:"/v4/parcels-report",label:"Raw Parcel Data",icon:c.Z}],C=async()=>{try{await (0,f.w7)(h.I)}catch(e){console.error("Error signing out",e)}};return v?a.jsx("div",{className:"flex h-screen items-center justify-center bg-gray-50",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):y?(0,a.jsxs)("div",{className:"flex h-screen bg-gray-50",children:[s&&a.jsx("div",{className:"fixed inset-0 z-40 bg-gray-600 bg-opacity-75 md:hidden",onClick:()=>b(!1)}),(0,a.jsxs)("aside",{className:`fixed md:inset-y-0 z-50 w-64 bg-white border-r border-gray-200 transform transition-transform duration-200 ease-in-out md:relative md:translate-x-0 flex flex-col justify-between ${s?"translate-x-0":"-translate-x-full"}`,children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between h-16 px-6 border-b border-gray-200",children:[(0,a.jsxs)(n.default,{href:"/",className:"flex items-center text-indigo-600 font-bold",children:[a.jsx(m.Z,{className:"w-4 h-4 mr-1"}),a.jsx("span",{children:"Back to ABSV"})]}),a.jsx("button",{onClick:()=>b(!1),className:"md:hidden text-gray-500",children:a.jsx(x.Z,{className:"w-6 h-6"})})]}),a.jsx("div",{className:"px-6 py-4",children:a.jsx("span",{className:"text-xl font-bold text-gray-800",children:"Parcel Analytics"})}),a.jsx("nav",{className:"p-4 space-y-1",children:w.map(e=>a.jsx(p,{href:e.href,label:e.label,icon:e.icon,active:t===e.href},e.href))})]}),a.jsx("div",{className:"p-4 border-t border-gray-200",children:(0,a.jsxs)("button",{onClick:C,className:"flex items-center w-full px-4 py-3 text-sm font-medium text-red-600 rounded-lg hover:bg-red-50 transition-colors",children:[a.jsx(u.Z,{className:"w-5 h-5 mr-3"}),"Sign Out"]})})]}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,a.jsxs)("header",{className:"flex items-center justify-between h-16 px-6 bg-white border-b border-gray-200 md:hidden",children:[a.jsx("button",{onClick:()=>b(!0),className:"text-gray-500",children:a.jsx(g.Z,{className:"w-6 h-6"})}),a.jsx("span",{className:"font-semibold text-gray-700",children:"Analytics"})]}),a.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-8",children:e})]})]}):(0,a.jsxs)("div",{className:"flex flex-col h-screen items-center justify-center bg-gray-50 p-4 text-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Restricted"}),a.jsx("p",{className:"text-gray-600 mb-8",children:"Please login to access the Parcel Analytics module."}),a.jsx(n.default,{href:"/",className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"Go to Home"})]})}},26374:(e,t,s)=>{"use strict";s.d(t,{OE:()=>o,Rm:()=>r,f8:()=>n,xD:()=>l});var a=s(10326);s(17577);let r=({title:e,value:t,icon:s,trend:r,colorClass:n,trendColor:l})=>(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 flex items-start justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:e}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:t}),r&&a.jsx("p",{className:`text-xs mt-2 font-medium ${l||"text-gray-500"}`,children:r})]}),a.jsx("div",{className:`p-3 rounded-lg ${n} bg-opacity-10`,children:a.jsx(s,{className:`w-6 h-6 ${n.replace("bg-","text-")}`})})]}),n=({currentFilter:e,onFilterChange:t,onExport:s,onSeed:r,isLoading:n})=>(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center bg-white p-4 rounded-lg border border-gray-200 mb-6 gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Time Range:"}),(0,a.jsxs)("select",{value:e,onChange:e=>t(e.target.value),className:"form-select block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md border",children:[a.jsx("option",{value:"today",children:"Today"}),a.jsx("option",{value:"week",children:"Last 7 Days"}),a.jsx("option",{value:"month",children:"Last 30 Days"})]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:r,disabled:n,className:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white 
          ${n?"bg-gray-400 cursor-not-allowed":"bg-gray-600 hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"}`,children:n?"Loading...":"Seed Database"}),a.jsx("button",{onClick:s,disabled:n,className:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white 
          ${n?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}`,children:n?"Loading...":"Export CSV"})]})]}),l=({headers:e})=>a.jsx("thead",{className:"bg-gray-50",children:a.jsx("tr",{children:e.map((e,t)=>a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e},t))})}),o=({status:e})=>a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${{delivered:"bg-green-100 text-green-800",closed:"bg-gray-100 text-gray-800",received:"bg-blue-100 text-blue-800",assigned:"bg-yellow-100 text-yellow-800"}[e]||"bg-gray-100"}`,children:e.charAt(0).toUpperCase()+e.slice(1)})},20902:(e,t,s)=>{"use strict";let a,r;s.d(t,{I:()=>d,db:()=>r});var n=s(42585),l=s(46791),o=s(76),i=s(11552);a=(0,n.C6)().length?(0,n.C6)()[0]:(0,n.ZF)({apiKey:"AIzaSyBbTyHWp3qBNPVYdkauEWN9_FCu67govr0",authDomain:"abs1-96886.firebaseapp.com",projectId:"abs1-96886",storageBucket:"abs1-96886.appspot.com",messagingSenderId:"139924754132",appId:"1:139924754132:web:cc366779227133dab5f541"});let d=(0,l.v0)(a);(0,i.cF)(a);try{r=(0,o.ad)(a)}catch(e){console.error("Firestore initialization failed:",e),r=(0,o.LV)(a,{localCache:(0,o.j5)({tabManager:(0,o.n3)()})})}},20592:(e,t,s)=>{"use strict";s.d(t,{GS:()=>o,ki:()=>l,vQ:()=>i,wD:()=>n});var a=s(20902),r=s(76);let n=async e=>{let t=(0,r.hJ)(a.db,"parcels"),s=Math.floor(e.startDate.getTime()/1e3),n=Math.floor(e.endDate.getTime()/1e3),l=(0,r.IO)(t,(0,r.ar)("createdAt",">=",s),(0,r.ar)("createdAt","<=",n));try{let e=await (0,r.PL)(l),t=[];return e.forEach(e=>{t.push(e.data())}),t}catch(e){throw console.error("Error fetching parcels:",e),e}},l=e=>{let t=new Date,s=new Date;return"today"===e?s.setHours(0,0,0,0):"week"===e?s.setDate(t.getDate()-7):s.setMonth(t.getMonth()-1),{startDate:s,endDate:t}},o=e=>{let t=encodeURI("data:text/csv;charset=utf-8,"+["Parcel ID,Courier,Staff,Status,Type,Created Date,Delivered Date",...e.map(e=>{let t=new Date(1e3*e.createdAt).toLocaleString(),s="delivered"===e.status||"closed"===e.status?new Date(1e3*e.updatedAt).toLocaleString():"N/A";return[e.parcelId,e.courierCompany,e.assignedToName||e.assignedTo,e.status,e.type,`"${t}"`,`"${s}"`].join(",")})].join("\n")),s=document.createElement("a");s.setAttribute("href",t),s.setAttribute("download","parcel_report.csv"),document.body.appendChild(s),s.click(),document.body.removeChild(s)},i=async()=>{let e=(0,r.qs)(a.db);Object.values({"PCL-2024-1001":{parcelId:"PCL-2024-1001",type:"incoming",courierCompany:"BlueDart",assignedTo:"staff_1",assignedToName:"Alice Johnson",status:"delivered",createdAt:1709539200,updatedAt:1709625600},"PCL-2024-1002":{parcelId:"PCL-2024-1002",type:"outgoing",courierCompany:"FedEx",assignedTo:"staff_2",assignedToName:"Bob Smith",status:"assigned",createdAt:1710144e3,updatedAt:1710144e3},"PCL-2024-1003":{parcelId:"PCL-2024-1003",type:"incoming",courierCompany:"DTDC",assignedTo:"staff_3",assignedToName:"Charlie Brown",status:"received",createdAt:1710230400,updatedAt:1710230400},"PCL-2024-1004":{parcelId:"PCL-2024-1004",type:"incoming",courierCompany:"Delhivery",assignedTo:"staff_1",assignedToName:"Alice Johnson",status:"closed",createdAt:170928e4,updatedAt:1709366400},"PCL-2024-1005":{parcelId:"PCL-2024-1005",type:"outgoing",courierCompany:"BlueDart",assignedTo:"staff_2",assignedToName:"Bob Smith",status:"assigned",createdAt:1709884800,updatedAt:1709884800},"PCL-2024-1006":{parcelId:"PCL-2024-1006",type:"incoming",courierCompany:"FedEx",assignedTo:"staff_1",assignedToName:"Alice Johnson",status:"delivered",createdAt:1710316800,updatedAt:1710324e3}}).forEach(t=>{let s=(0,r.JU)(a.db,"parcels",t.parcelId);e.set(s,t)}),await e.commit(),console.log("Database seeded successfully!")}},11506:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o,metadata:()=>l});var a=s(19510),r=s(85384),n=s.n(r);s(67272);let l={title:"Create Next App",description:"Generated by create next app"};function o({children:e}){return a.jsx("html",{lang:"en",children:a.jsx("body",{className:n().className,children:e})})}},86438:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(68570).createProxy)(String.raw`/home/user/abs/app/v4/layout.tsx#default`)},67272:()=>{}};