(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[383],{23836:function(e,t,r){Promise.resolve().then(r.bind(r,64602))},64602:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return p}});var s=r(57437),a=r(2265),n=r(27648),l=r(99376),i=r(25466),c=r(95805),o=r(40340),d=r(44794),x=r(92451),f=r(32489),h=r(47692),m=r(58293),u=r(17293),b=r(43301);let g=e=>{let{href:t,icon:r,label:a,active:l}=e;return(0,s.jsxs)(n.default,{href:t,className:"flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors duration-150 ".concat(l?"bg-indigo-50 text-indigo-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"),children:[(0,s.jsx)(r,{className:"w-5 h-5 mr-3 ".concat(l?"text-indigo-600":"text-gray-400")}),a]})};function p(e){let{children:t}=e,r=(0,l.usePathname)(),[p,y]=(0,a.useState)(!1),[j,N]=(0,a.useState)(null),[v,w]=(0,a.useState)(!0);(0,a.useEffect)(()=>(0,b.Aj)(u.I,e=>{N(e),w(!1)}),[]);let k=[{href:"/v4",label:"Overview",icon:i.Z},{href:"/v4/staff-performance",label:"Staff Performance",icon:c.Z},{href:"/v4/courier-report",label:"Courier Reports",icon:o.Z},{href:"/v4/parcels-report",label:"Raw Parcel Data",icon:d.Z}],C=async()=>{try{await (0,b.w7)(u.I)}catch(e){console.error("Error signing out",e)}};return v?(0,s.jsx)("div",{className:"flex h-screen items-center justify-center bg-gray-50",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):j?(0,s.jsxs)("div",{className:"flex h-screen bg-gray-50",children:[p&&(0,s.jsx)("div",{className:"fixed inset-0 z-40 bg-gray-600 bg-opacity-75 md:hidden",onClick:()=>y(!1)}),(0,s.jsxs)("aside",{className:"fixed md:inset-y-0 z-50 w-64 bg-white border-r border-gray-200 transform transition-transform duration-200 ease-in-out md:relative md:translate-x-0 flex flex-col justify-between ".concat(p?"translate-x-0":"-translate-x-full"),children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between h-16 px-6 border-b border-gray-200",children:[(0,s.jsxs)(n.default,{href:"/",className:"flex items-center text-indigo-600 font-bold",children:[(0,s.jsx)(x.Z,{className:"w-4 h-4 mr-1"}),(0,s.jsx)("span",{children:"Back to ABSV"})]}),(0,s.jsx)("button",{onClick:()=>y(!1),className:"md:hidden text-gray-500",children:(0,s.jsx)(f.Z,{className:"w-6 h-6"})})]}),(0,s.jsx)("div",{className:"px-6 py-4",children:(0,s.jsx)("span",{className:"text-xl font-bold text-gray-800",children:"Parcel Analytics"})}),(0,s.jsx)("nav",{className:"p-4 space-y-1",children:k.map(e=>(0,s.jsx)(g,{href:e.href,label:e.label,icon:e.icon,active:r===e.href},e.href))})]}),(0,s.jsx)("div",{className:"p-4 border-t border-gray-200",children:(0,s.jsxs)("button",{onClick:C,className:"flex items-center w-full px-4 py-3 text-sm font-medium text-red-600 rounded-lg hover:bg-red-50 transition-colors",children:[(0,s.jsx)(h.Z,{className:"w-5 h-5 mr-3"}),"Sign Out"]})})]}),(0,s.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,s.jsxs)("header",{className:"flex items-center justify-between h-16 px-6 bg-white border-b border-gray-200 md:hidden",children:[(0,s.jsx)("button",{onClick:()=>y(!0),className:"text-gray-500",children:(0,s.jsx)(m.Z,{className:"w-6 h-6"})}),(0,s.jsx)("span",{className:"font-semibold text-gray-700",children:"Analytics"})]}),(0,s.jsx)("main",{className:"flex-1 overflow-y-auto p-4 md:p-8",children:t})]})]}):(0,s.jsxs)("div",{className:"flex flex-col h-screen items-center justify-center bg-gray-50 p-4 text-center",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Restricted"}),(0,s.jsx)("p",{className:"text-gray-600 mb-8",children:"Please login to access the Parcel Analytics module."}),(0,s.jsx)(n.default,{href:"/",className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"Go to Home"})]})}},17293:function(e,t,r){"use strict";let s,a;r.d(t,{I:function(){return o},db:function(){return a}});var n=r(738),l=r(43301),i=r(5978),c=r(60062);s=(0,n.C6)().length?(0,n.C6)()[0]:(0,n.ZF)({apiKey:"AIzaSyBbTyHWp3qBNPVYdkauEWN9_FCu67govr0",authDomain:"abs1-96886.firebaseapp.com",projectId:"abs1-96886",storageBucket:"abs1-96886.appspot.com",messagingSenderId:"139924754132",appId:"1:139924754132:web:cc366779227133dab5f541"});let o=(0,l.v0)(s);(0,c.cF)(s);try{a=(0,i.ad)(s)}catch(e){console.error("Firestore initialization failed:",e),a=(0,i.LV)(s,{localCache:(0,i.j5)({tabManager:(0,i.n3)()})})}}},function(e){e.O(0,[358,139,933,331,971,117,744],function(){return e(e.s=23836)}),_N_E=e.O()}]);